(this["webpackJsonptask-github-repo-search"]=this["webpackJsonptask-github-repo-search"]||[]).push([[0],{109:function(e,t,c){},110:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(10),r=c.n(n),s=c(35),i=c(9),j=c(47),b=c(5);function u(){return Object(b.jsx)("div",{className:"home-content",children:Object(b.jsx)(j.a,{variant:"h4",align:"center",children:"Use search to find repos from Github"})})}var o=c(49),h=c.n(o),l=c(68),O=c(23),d=c(152),p=c(151),x=c(142),f=c(143),g=c(154),m=c(144),v=c(145),k=c(69),S=c.n(k).a.create({baseURL:"https://api.github.com"}),w=function(e,t){return S.get("/repos/".concat(e,"/").concat(t))};function _(){var e=Object(i.h)(),t=e.user,c=e.repo,n=Object(i.f)(),r=Object(a.useState)(null),s=Object(O.a)(r,2),u=s[0],o=s[1],k=function(){var e=Object(l.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t,c).then((function(e){var t=e.data;o(t)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){k()}),[]),u){var S=u.name,_=u.size,y=u.created_at,E=u.language,C=u.description,B=u.stargazers_count,D=u.html_url,I=u.owner,N=I.login,R=I.avatar_url,z=I.html_url,F=new Date(y).toString(),G=(_/1e3).toFixed(2);return Object(b.jsxs)("div",{children:[Object(b.jsx)(d.a,{variant:"outlined",color:"primary",onClick:function(e){e.preventDefault(),n.goBack()},children:"Back"}),Object(b.jsx)(p.a,{mt:2,children:Object(b.jsxs)(x.a,{children:[Object(b.jsx)(f.a,{title:Object(b.jsxs)(j.a,{variant:"h6",children:[Object(b.jsx)("span",{children:"Repo: "}),Object(b.jsx)("a",{href:D,rel:"noreferrer",target:"_blank",children:S})]}),subheader:Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{children:"By: "}),Object(b.jsx)("a",{href:z,rel:"noreferrer",target:"_blank",children:N})]}),avatar:Object(b.jsx)(g.a,{src:R})}),Object(b.jsxs)(m.a,{children:[Object(b.jsx)(j.a,{paragraph:!0,children:C}),Object(b.jsx)("hr",{}),Object(b.jsxs)(j.a,{paragraph:!0,children:[Object(b.jsx)("strong",{children:"Created at:"})," ",F]}),Object(b.jsxs)(j.a,{paragraph:!0,children:[Object(b.jsx)("strong",{children:"Language:"})," ",E]}),Object(b.jsxs)(j.a,{paragraph:!0,children:[Object(b.jsx)("strong",{children:"Stars:"})," ",B]}),Object(b.jsxs)(j.a,{paragraph:!0,children:[Object(b.jsx)("strong",{children:"Size:"})," ",G," Mb"]})]})]})})]})}return Object(b.jsx)(p.a,{py:4,children:Object(b.jsx)(v.a,{})})}var y=c(146);function E(){var e=Object(i.g)().search.substr(1),t=Object(a.useState)([]),c=Object(O.a)(t,2),n=c[0],r=c[1],j=Object(a.useState)(null),u=Object(O.a)(j,2),o=u[0],h=u[1],l=Object(a.useState)(!0),d=Object(O.a)(l,2),m=d[0],k=d[1],w=Object(a.useState)(!0),_=Object(O.a)(w,2),E=_[0],C=_[1],B=Object(a.useRef)(),D=Object(a.useState)(1),I=Object(O.a)(D,2),N=I[0],R=I[1],z=Object(a.useCallback)((function(){(function(e){return S.get("/search/repositories",{params:e})})({q:e,page:N,per_page:50}).then((function(e){var t=e.data,c=1===N?t.items:n.concat(t.items).reduce((function(e,t){return e.find((function(e){return e.id===t.id}))||e.push(t),e}),[]);r(c),C(t.total_count>c.length),k(!1)}))}),[e,N]);return Object(a.useEffect)((function(){B.current&&B.current.disconnect(),E&&(k(!0),B.current=new IntersectionObserver((function(e){e[0].isIntersecting&&R((function(e){return e+1}))}),{rootMargin:"200px"})),o&&B.current.observe(o)}),[o]),Object(a.useEffect)((function(){R(1),r([])}),[e]),Object(a.useEffect)((function(){z()}),[N,z]),Object(b.jsxs)("div",{children:[!!n.length&&Object(b.jsxs)(a.Fragment,{children:[Object(b.jsx)(y.a,{container:!0,spacing:2,children:n.map((function(e){return Object(b.jsx)(y.a,{item:!0,xs:12,sm:6,md:4,children:Object(b.jsx)(s.b,{to:"/".concat(e.full_name),children:Object(b.jsx)(x.a,{children:Object(b.jsx)(f.a,{title:e.name,subheader:e.owner.login,avatar:Object(b.jsx)(g.a,{src:e.owner.avatar_url})})})})},e.id)}))}),E&&Object(b.jsx)("div",{ref:h})]}),m&&Object(b.jsx)(p.a,{py:4,children:Object(b.jsx)(v.a,{})})]})}var C=c(147),B=c(153),D=c(149);function I(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),c=t[0],n=t[1],r=Object(i.f)(),s=Object(i.g)().search;return Object(a.useEffect)((function(){n(s.substr(1))}),[s]),Object(b.jsx)("div",{className:"app-header",children:Object(b.jsx)(C.a,{position:"relative",children:Object(b.jsx)(p.a,{p:2,children:Object(b.jsxs)(y.a,{container:!0,spacing:2,justify:"space-between",alignItems:"center",children:[Object(b.jsx)(B.a,{xsDown:!0,children:Object(b.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)(j.a,{variant:"h5",onClick:function(){r.push({pathname:"/",search:""})},className:"logo",children:"Github Search"})})}),Object(b.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),r.push({pathname:"/results",search:c})},children:Object(b.jsx)(D.a,{fullWidth:!0,autoFocus:!0,label:"Repo name...",variant:"filled",inputProps:{value:c,onChange:function(e){n(e.target.value)}}})})})]})})})})}var N=c(148),R=c(70),z=c(46),F=c(45),G=Object(R.a)({palette:{primary:{main:z.a[500]},secondary:{main:F.a[500]}}});c(109);function J(){return Object(b.jsx)(N.a,{theme:G,children:Object(b.jsxs)(s.a,{basename:"/github-search-app/",children:[Object(b.jsx)(I,{}),Object(b.jsx)("div",{className:"app-body",children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",component:u}),Object(b.jsx)(i.a,{exact:!0,path:"/results",component:E}),Object(b.jsx)(i.a,{exact:!0,path:"/:user/:repo",component:_})]})})]})})}r.a.render(Object(b.jsx)(J,{}),document.getElementById("root"))}},[[110,1,2]]]);
//# sourceMappingURL=main.6f85a12a.chunk.js.map